<div data-element="editor-hostnames" ng-controller="Umbraco.Editors.Hostnames.EditController as vm" class="clearfix">

    <form name="editHostnameForm" no-validate val-form-manager>

        <umb-editor-view>
    
            <umb-editor-header
                name="vm.page.name"
                name-locked="true"
                on-back="vm.back()"
                show-back-button="vm.showBackButton"
                hide-icon="true"
                hide-description="true"
                hide-alias="true">
            </umb-editor-header>
    
            <umb-editor-container>

                <umb-load-indicator ng-if="vm.loading"></umb-load-indicator>

                <umb-box ng-if="!vm.loading" class="block-form">
                    <umb-box-content>
                        <p></p>

                        <umb-control-group label="Hostname" description="Valid domain names are: 'example.com', 'www.example.com', 'example.com:8080' or 'https://www.example.com/'. One-level paths in domains are supported, eg. 'example.com/en'. However, they should be avoided. Better use the culture setting above." required="true">
                            <input type="text"
                                   class="input-block-level"
                                   ng-model="vm.hostname.hostname"
                                   umb-auto-focus 
                                   name="hostname"
                                   required
                                   val-server-field="Hostname" />
                            <span ng-messages="editHostnameForm.hostname.$error" show-validation-on-submit >
                                <span class="help-inline" ng-message="required"><localize key="general_required">Required</localize></span>
                                <span class="help-inline" ng-message="valServerField">{{editHostnameForm.hostname.errorMsg}}</span>
                            </span>
                        </umb-control-group>

                        <umb-control-group label="@general_language" description="Cras sagittis interdum risus, sit amet convallis erat fringilla sed." required="true">
                            <select name="newLang"
                                    class="input-block-level"
                                    ng-model="vm.hostname.language.culture"
                                    ng-options="language.culture as language.name for language in vm.languages"
                                    val-server-field="IsoCode"
                                    required>
                            </select>
                            <span ng-messages="editHostnameForm.newLang.$error" show-validation-on-submit >
                                <span class="help-inline" ng-message="required">Required</span>
                                <span class="help-inline" ng-message="valServerField">{{editHostnameForm.newLang.errorMsg}}</span>
                            </span>
                        </umb-control-group>

                        <umb-control-group label="Node" description="Etiam facilisis quis est ac laoreet. Vestibulum id tincidunt augue. Suspendisse vitae tellus turpis." required="true">
                            <umb-node-preview
                                ng-if="vm.hostname.node.id"
                                style="max-width: 100%;"
                                icon="vm.hostname.node.icon"
                                name="vm.hostname.node.name"
                                allow-remove="vm.allowRemoveNode"
                                on-remove="vm.removeNode(vm.hostname.node)">
                            </umb-node-preview>
                            <a href=""
                               ng-if="!vm.hostname.node.id"
                               style="max-width: 100%;"
                               class="umb-node-preview-add"
                               ng-click="vm.openContentPicker()"
                               prevent-default>
                                <localize key="general_add">Add</localize>
                            </a>
                        </umb-control-group>

                    </umb-box-content>
                </umb-box>
    
            </umb-editor-container>

            <umb-editor-footer>

                <umb-editor-footer-content-left>
                    <umb-breadcrumbs
                        ancestors="vm.breadcrumbs"
                        allow-on-open="true"
                        on-open="vm.goToPage(ancestor)">
                    </umb-breadcrumbs>
                </umb-editor-footer-content-left>

                <umb-editor-footer-content-right>
                    <umb-button 
                        type="button"
                        action="vm.save()"
                        state="vm.page.saveButtonState"
                        button-style="success"
                        shortcut="ctrl+s"
                        label="Save"
                        label-key="buttons_save"
                        disabled="vm.loading">
                    </umb-button>
                </umb-editor-footer-content-right>

            </umb-editor-footer>
    
        </umb-editor-view>

    </form>
    
</div>
