<div class="umb-variations">

    <div ng-if="!newVariationIsVisible && !editVariationIsVisible && !cloneVariationIsVisible">
        <div class="umb-variations__title-wrapper">
            <div class="umb-variations__title">Variations ({{ variations.length - 1 }})</div>
        </div>

        <p class="umb-variations__help-text">Manage multiple variations of your content here. Create, duplicate or delete variations.</p>

        <input class="umb-variations__filter -full-width-input" ng-show="variations.length > 4" ng-model="searchTerm" placeholder="Filter variations"></input>


        <!-- VARIATIONS LANG GROUP -->
        <div class="umb-varations__lang-group">
            <div class="umb-varations__lang-group-info">

                <div class="umb-varations__lang-group-info__name" ng-click="clickVariation(variation, $event, $index)">
                    <i class="icon-umb-translation"></i>
                    Danish
                </div>

                <div class="umb-variations__actions">
                    <div class="umb-variations__action" ng-click="openCloneVariation(variation, $event, $index)">
                        <i class="icon-documents"></i>
                        <span>Create a variation</span>
                    </div>
                </div>
            </div>

            <!-- VARIATIONS LIST -->
            <ul class="umb-variations__list">

                <li class="umb-variations__list-item-wrapper" ng-repeat="variation in variations | filter:searchTerm">

                    <div class="umb-variations__list-item">

                        <div class="umb-variations__variation-top-bar">

                            <div class="umb-variations__name-wrapper">
                                <div class="umb-variations__name" ng-if="variation.master">
                                    <i class="icon-documents"></i> Danish - <span>Tablets</span>
                                </div>
                                <div class="umb-variations__name" ng-if="!variation.master">
                                    <i class="icon-documents"></i> Danish - <span>{{ variation.variationName }}</span>
                                </div>
                            </div>

                            <div class="umb-variations__actions">
                                <div class="umb-variations__action" ng-click="openEditVariation(variation, $event, $index)">
                                    <i class="icon-edit"></i>
                                    <span>Edit</span>
                                </div>
                                <div class="umb-variations__action" ng-if="variation.master" ng-click="openCloneVariation(variation, $event, $index)">
                                    <i class="icon-documents"></i>
                                    <span>Copy variant</span>
                                </div>
                                <div class="umb-variations__action" ng-click="deleteVariation(variation, $event, $index)">
                                    <i class="icon-trash"></i>
                                    <span>Delete</span>
                                </div>
                            </div>

                        </div>

                        <div class="umb-variations__description" ng-if="variation.variationDescription">{{ variation.variationDescription }}</div>
                    </div>

                </li>
            </ul>
        </div>


        <!-- VARIATIONS LANG GROUP -->
        <div class="umb-varations__lang-group">
            <div class="umb-varations__lang-group-info">
                <div class="umb-varations__lang-group-info__name" ng-click="clickVariation(variation, $event, $index)">
                    <i class="icon-umb-translation"></i>
                    German
                </div>

                <div class="umb-variations__actions">
                    <div class="umb-variations__action" ng-click="openCloneVariation(variation, $event, $index)">
                        <i class="icon-documents"></i>
                        <span>Create a variation</span>
                    </div>
                </div>
            </div>

            <!-- VARIATIONS LIST -->
            <ul class="umb-variations__list">

                <li class="umb-variations__list-item-wrapper" ng-repeat="variation in variations | filter:searchTerm">

                    <div class="umb-variations__list-item">

                        <div class="umb-variations__variation-top-bar">

                            <div class="umb-variations__name-wrapper">
                                <div class="umb-variations__name" ng-if="variation.master">
                                    <i class="icon-documents"></i> German - <span>Tablets</span>
                                </div>
                                <div class="umb-variations__name" ng-if="!variation.master">
                                    <i class="icon-documents"></i> German - <span>{{ variation.variationName }}</span>
                                </div>
                            </div>

                            <div class="umb-variations__actions">
                                <div class="umb-variations__action" ng-click="openEditVariation(variation, $event, $index)">
                                    <i class="icon-edit"></i>
                                    <span>Edit</span>
                                </div>
                                <div class="umb-variations__action" ng-if="variation.master" ng-click="openCloneVariation(variation, $event, $index)">
                                    <i class="icon-documents"></i>
                                    <span>Copy variant</span>
                                </div>
                                <div class="umb-variations__action" ng-click="deleteVariation(variation, $event, $index)">
                                    <i class="icon-trash"></i>
                                    <span>Delete</span>
                                </div>
                            </div>

                        </div>

                        <div class="umb-variations__description" ng-if="variation.variationDescription">{{ variation.variationDescription }}</div>
                    </div>

                </li>
            </ul>
        </div>


        <!-- VARIATIONS LANG GROUP -->
        <div class="umb-varations__lang-group">
            <div class="umb-varations__lang-group-info">

                <div class="umb-varations__lang-group-info__name" ng-click="clickVariation(variation, $event, $index)">
                    <i class="icon-umb-translation"></i>English
                </div>
            </div>

            <!-- VARIATIONS LIST -->
            <div class="umb-variations__no-variations">
                <div class="umb-variations__no-variations-message">
                    It looks like you haven't created any variations yet.
                </div>
                <button class="btn umb-button__button btn-success" ng-click="openCloneVariation(variation, $event, $index)">
                    Create variation
                </button>
            </div>

        </div>

    </div>

    <div class="umb-variation__create" ng-if="editVariationIsVisible">
        <div class="umb-variation__create-title">
            Edit "{{ selectedVariation.nameCopy }}"
        </div>
        <div class="umb-variations__help-text">
            Edit variation of "{{ selectedVariation.nameCopy }}". For great examples go to umbraco.com/documentation
        </div>

        <div class="umb-variation__create-form">

            <div class="umb-control-group -no-border -no-padding-bottom">
                <label for="umb-variation__create-form-title">Title</label>
                <input id="umb-variation-create-form-title" class="umb-variation__create-form-title -full-width-input" ng-model="selectedVariation.variationName" type="text" placeholder="Give a title to your variation" focus-when="{{editVariationIsVisible}}"/>
            </div>

            <div class="umb-control-group -no-border -no-padding-bottom">
                <label for="umb-variation-create-form-description">Description</label>
                <textarea class="umb-variation__create-form-description -full-width-textarea" ng-model="selectedVariation.variationDescription" name="" id="umb-variation-create-form-description" placeholder="Add a description to your variation" umb-auto-resize></textarea>
            </div>

            <div class="umb-variation__create-form-actions">
                <umb-button
                    type="link"
                    button-style="link"
                    action="hideEditVariation()"
                    label="Close">
                </umb-button>
                <umb-button
                   type="button"
                   button-style="success"
                   action="saveVariation(selectedVariation)"
                   label="Save variation">
                </umb-button>
            </div>

        </div>
    </div>

    <div class="umb-variation__create" ng-if="cloneVariationIsVisible">
        <div class="umb-variation__create-title">
            Copy "{{ selectedVariation.nameCopy }}"
        </div>
        <div class="umb-variations__help-text">
            Copy variation of "{{ selectedVariation.nameCopy }}". For great examples go to umbraco.com/documentation
        </div>

        <div class="umb-variation__create-form">

            <div class="umb-control-group -no-border -no-padding-bottom">
                <label for="umb-variation__create-form-title">Title</label>
                <input id="umb-variation-create-form-title" class="umb-variation__create-form-title -full-width-input" ng-model="selectedVariation.variationName" type="text" placeholder="Give a title to your variation" focus-when="{{cloneVariationIsVisible}}"/>
            </div>

            <div class="umb-control-group -no-border -no-padding-bottom">
                <label for="umb-variation-create-form-description">Description</label>
                <textarea class="umb-variation__create-form-description -full-width-textarea" ng-model="selectedVariation.variationDescription" name="" id="umb-variation-create-form-description" placeholder="Add a description to your variation" umb-auto-resize></textarea>
            </div>

            <div class="umb-variation__create-form-actions">
                <umb-button
                    type="link"
                    button-style="link"
                    action="hideCloneVariation($event)"
                    label="Close">
                </umb-button>
                <umb-button
                   type="button"
                   button-style="success"
                   action="cloneVariation(selectedVariation)"
                   label="Make copy">
                </umb-button>
            </div>

        </div>
    </div>

</div>
