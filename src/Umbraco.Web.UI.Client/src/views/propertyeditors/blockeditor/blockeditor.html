<div ng-controller="Umbraco.PropertyEditors.BlockEditor.PropertyEditorController as vm">
    <div style="position:relative" ng-if="vm.loading">
        <umb-load-indicator />
    </div>

    <div ng-if="!vm.loading">
        <div ui-sortable="vm.sortableOptions" ng-model="model.value">
            <div ng-repeat="block in model.value">
                <div style="cursor:pointer" ng-click="vm.editContent(block)" class="di">
                    TODO: block identifier, e.g. icon
                </div>
                <div style="cursor:pointer" ng-click="vm.editSettings(block)" class="di">
                    <i class="icon icon-settings"></i>
                </div>
                <div style="cursor:move" class="di handle">
                    <i class="icon icon-navigation"></i>
                </div>
                <div style="cursor:pointer" ng-click="vm.remove(block)" class="di">
                    <i class="icon icon-trash"></i>
                </div>
            </div>
        </div>

        <div>
            Add:
            <div style="cursor:pointer" ng-click="vm.add(scaffold)" ng-repeat="scaffold in vm.scaffolds" class="di">
                <i class="icon {{scaffold.documentType.icon}}"></i>
            </div>
        </div>
    </div>
</div>
