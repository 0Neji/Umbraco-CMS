<div data-element="editor-languages" ng-controller="Umbraco.Editors.Packages.EditController as vm">

    <form name="editLanguageForm" no-validate val-form-manager>

        <umb-editor-view>
    
            <umb-editor-header
                name="vm.package.name"
                on-back="vm.back()"
                show-back-button="vm.showBackButton"
                hide-icon="true"
                hide-description="true"
                hide-alias="true">
            </umb-editor-header>
    
            <umb-editor-container class="form-horizontal">

                <umb-load-indicator ng-if="vm.loading"></umb-load-indicator>

                <div class="umb-expansion-panel">

                    <div class="umb-expansion-panel__header" ng-click="vm.propertiesOpen = !vm.propertiesOpen">
                        <div>Package Properties</div>
                        <ins class="umb-expansion-panel__expand" ng-class="{'icon-navigation-down': !vm.propertiesOpen, 'icon-navigation-up': vm.propertiesOpen}">&nbsp;</ins>
                    </div>
            
                    <div class="umb-expansion-panel__content" ng-show="vm.propertiesOpen">

                        <umb-control-group label="Url" required="true">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.url" required />
                        </umb-control-group>

                        <umb-control-group label="Version" required="true">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.version" required />
                        </umb-control-group>

                        <umb-control-group label="Icon URL">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.iconUrl" />
                        </umb-control-group>

                        <umb-control-group label="Package File">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.packageFile" />
                        </umb-control-group>

                        <umb-control-group label="Umbraco version">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.umbracoVersion" />
                        </umb-control-group>

                        <umb-control-group label="Author name" required="true">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.authorName" required />
                        </umb-control-group>

                        <umb-control-group label="Author URL" required="true">
                            <input type="text" class="umb-property-editor" ng-model="vm.package.authorUrl" required />
                        </umb-control-group>

                        <umb-control-group label="License">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.license" />
                        </umb-control-group>

                        <umb-control-group label="License URL">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.licenseUrl" />
                        </umb-control-group>

                        <umb-control-group label="Readme">
                            <textarea class="umb-property-editor" rows="10" ng-model="vm.package.readme"></textarea>
                        </umb-control-group>

                    </div>
            
                </div>
                
                <div class="umb-expansion-panel">

                    <div class="umb-expansion-panel__header" ng-click="vm.contentOpen = !vm.contentOpen">
                        <div>Package Content</div>
                        <ins class="umb-expansion-panel__expand" ng-class="{'icon-navigation-down': !vm.contentOpen, 'icon-navigation-up': vm.contentOpen}">&nbsp;</ins>
                    </div>
            
                    <div class="umb-expansion-panel__content" ng-show="vm.contentOpen">
                            <input type="checkbox" ng-model="package.test" />
                        </umb-control-group>

                        <umb-control-group label="Document Types">
                            <div ng-repeat="doctype in vm.documentTypes">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{doctype.name}}
                                </label>
                            </div>
                        </umb-control-group>

                        <umb-control-group label="Templates">
                            <div ng-repeat="template in vm.templates">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{template.name}}
                                </label>
                            </div>
                        </umb-control-group>
                        
                        <umb-control-group label="Stylesheets">
                            <div ng-repeat="stylesheet in vm.stylesheets">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{stylesheet.name}}
                                </label>
                            </div>
                        </umb-control-group>

                        <umb-control-group label="Macros">
                            <div ng-repeat="macro in vm.macros">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{macro.name}}
                                </label>
                            </div>
                        </umb-control-group>

                        <umb-control-group label="Languages">
                            <div ng-repeat="language in vm.languages">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{language.name}}
                                </label>
                            </div>
                        </umb-control-group>

                        <umb-control-group label="Dictionary Items">
                            <div ng-repeat="dictionaryItem in vm.dictionaryItems">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{dictionaryItem.name}}
                                </label>
                            </div>
                        </umb-control-group>

                        <umb-control-group label="Data Types">
                            <div ng-repeat="dataType in vm.dataTypes">
                                <label>
                                    <input type="checkbox" ng-model="doctype.selected" />
                                    {{dataType.name}}
                                </label>
                            </div>
                        </umb-control-group>

                    </div>

                </div>

                <div class="umb-expansion-panel">

                    <div class="umb-expansion-panel__header" ng-click="vm.filesOpen = !vm.filesOpen">
                        <div>Package Files</div>
                        <ins class="umb-expansion-panel__expand" ng-class="{'icon-navigation-down': !vm.filesOpen, 'icon-navigation-up': vm.filesOpen}">&nbsp;</ins>
                    </div>
            
                    <div class="umb-expansion-panel__content" ng-show="vm.filesOpen">
                        <!--
                        <p>Remember: .xslt and .ascx files for your macros will be added automaticly, but you will still need to add assemblies, images and script files manually to the list below.</p>
                        -->
                        <umb-control-group 
                            label="Path to file"
                            description="Absolute path to file (ie: /bin/umbraco.bin)">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.pathToFile" />
                        </umb-control-group>
                        <umb-control-group 
                            label="Control after installation"
                            description="Load control after installation (ex: /usercontrols/installer.ascx)">
                            <input class="umb-property-editor" type="text" ng-model="vm.package.controlAfterInstallation" />
                        </umb-control-group>
                    </div>
            
                </div>

                <div class="umb-expansion-panel">
                    <div class="umb-expansion-panel__header" ng-click="vm.actionsOpen = !vm.actionsOpen">
                        <div>Package Actions</div>
                        <ins class="umb-expansion-panel__expand" ng-class="{'icon-navigation-down': !vm.actionsOpen, 'icon-navigation-up': vm.actionsOpen}">&nbsp;</ins>
                    </div>
                    <div class="umb-expansion-panel__content" ng-show="vm.actionsOpen">
                        <umb-control-group 
                            label="Readme"
                            description="Here you can add custom installer / uninstaller events to perform certain tasks during installation and uninstallation. 
                            All actions are formed as a xml node, containing data for the action to be performed.">
                            <div>
                                <a ng-href="https://our.umbraco.com/documentation/Reference/Packaging/">Documentation</a>
                                <div>
                                    <textarea class="umb-property-editor" rows="10" ng-model="vm.package.readme"></textarea>
                                </div>
                            </div>
                        </umb-control-group>
                    </div>
                </div>

            </umb-editor-container>

            <umb-editor-footer>

                <umb-editor-footer-content-right>
                    <umb-button 
                        type="button"
                        action="vm.save()"
                        state="vm.page.saveButtonState"
                        button-style="info"
                        shortcut="ctrl+s"
                        label="Save"
                        label-key="buttons_save"
                        disabled="vm.loading">
                    </umb-button>
                    <umb-button 
                        type="button"
                        action="vm.createPackage()"
                        state="vm.page.createPackageButtonState"
                        button-style="success"
                        label="Create"
                        disabled="vm.loading">
                    </umb-button>
                </umb-editor-footer-content-right>

            </umb-editor-footer>
    
        </umb-editor-view>

    </form>
    
</div>