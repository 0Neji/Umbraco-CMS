<div class="umb-dialog" style="width: 500px"
     ng-controller="Umbraco.Editors.Content.SortController"
     ng-switch on="complete">
    
    <form name="sortForm" ng-submit="performSort()" ng-switch-when="false">
        <div class="umb-dialog-body" auto-scale="90">
            <p class="umb-abstract">Sort children of {{nav.ui.currentNode.name}}</p>

            <table class="table umb-table">
                <thead>
                    <tr>
                    <td>Name</td>
                    <td>Last Update</td>
                    <td>Index</td>
                </thead>
                <tbody ui-sortable="sortableOptions" ng-model="itemsToSort">
                    <tr ng-repeat="model in itemsToSort">
                        <td>{{model.name}}</td>
                        <td>{{model.updateDate}}</td>
                        <td>{{model.sortOrder}}</td>
                    </tr>
                </tbody>
            </table>

        </div>
        <div class="btn-toolbar umb-btn-toolbar">
            <button class="btn" ng-click="nav.hideDialog()">Cancel</button>
            <button type="submit" class="btn btn-primary">Sort</button>
        </div>
    </form>
    <div ng-switch-when="true">
        <div class="alert alert-success">
            Sorting successful    
        </div>
        
        <div class="btn-toolbar umb-btn-toolbar">
            <button class="btn" ng-click="nav.hideDialog()">Ok</button>
        </div>
    </div>
</div>
